{% extends 'main/base.html' %}

{% load static %}

{% block content %}

    <div class=container">
        {% if predictions %}
            {% for prediction in predictions %}
                <div class="card shadow p-3 mt-4 bg-white rounded border-dark">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            <div class="row align-items-center justify-content-center" ><p style="font-size:20px;">Uploaded Image</p></div>
                            <div class="row align-items-center justify-content-center">                            <img class="card-img style-image img-responsive img-thumbnail"
                                src="{{ prediction.uploaded_image_url }} "></div>

                        </div>
                        <div class="col-md-4 ">
                            <div class="row align-items-center justify-content-center" ><p style="font-size:20px;">Result</p></div>
                            <div class="row align-items-center justify-content-center"><img class="card-img style-image img-responsive img-thumbnail"
                                src="{{ prediction.processed_image_url }}"></div>
                        </div>
                        <div class="col-md-4 align-items-center justify-content-center">
                            <div class="card-body " style="white-space: pre-wrap;">
                                <div class="row align-items-center justify-content-center"><h2>Diagnosis: <h3 id="prediction-history-result">{{ prediction.get_diagnosis_display }}</h3></h2></div>
                                <script> 
                                    var user_name = document.getElementById("prediction-history-result"); 
                                    if(user_name.innerText === "NORMAL")    user_name.style.color="#00a651"
                                    else    user_name.style.color="#ff0000"
                                </script> 
                                <div class="row align-items-center justify-content-center"><h2>Date: </h2> {{ prediction.date_created }}</div>
                            </div>
                          
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
        <div class="col-md-12">
            <h1 class="row  align-items-center justify-content-center" style="height: 80vh;">No history to display</h1>
        </div>
        {% endif %}
    </div>
    
    

{% endblock %}